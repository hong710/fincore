<div class="flex items-center justify-between border-b border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600">
  <div class="flex items-center gap-3 flex-wrap">
    <span class="text-slate-500">Filters: {{ show_archived|yesno:"Including archived,Active only" }}</span>
  </div>
  <div class="flex items-center gap-2">
    <label class="inline-flex items-center gap-2 text-slate-600">
      <input type="checkbox" class="h-4 w-4 rounded border-slate-300 text-indigo-600 focus:ring-indigo-500"
             hx-get="{% url 'fincore:account_table' %}" hx-target="#accounts-table" hx-trigger="change"
             name="show_archived" value="1" {% if show_archived %}checked{% endif %}>
      <span>Show archived</span>
    </label>
  </div>
</div>

<div id="account-actions-errors" class="px-3 pt-2 text-sm text-rose-600"></div>

<div class="overflow-x-auto flex-1 min-h-[50vh]" x-data="{ openId: null }">
  <table class="min-w-full text-sm text-slate-800">
    <thead class="bg-slate-50 text-xs font-medium text-slate-700 border-b border-slate-200">
      <tr>
        <th class="py-2 px-3 text-left">Account</th>
        <th class="py-2 px-3 text-left">Type</th>
        <th class="py-2 px-3 text-left">Institution</th>
        <th class="py-2 px-3 text-left">Status</th>
        <th class="py-2 px-3 text-left w-32">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-slate-200">
{% if accounts %}
  {% load account_tags %}
  {% for account in accounts %}
    <tr class="hover:bg-slate-50">
      <td class="px-3 py-2">{{ account.name }}</td>
      <td class="px-3 py-2 text-slate-600">{{ account.get_account_type_display }}</td>
      <td class="px-3 py-2 text-slate-600">{{ account.institution|default:"-" }}</td>
      <td class="px-3 py-2">
        {% if account.is_active %}
          <span class="inline-flex rounded-full bg-emerald-50 px-2 py-1 text-xs font-medium text-emerald-700">Active</span>
        {% else %}
          <span class="inline-flex rounded-full bg-slate-100 px-2 py-1 text-xs font-medium text-slate-700">Inactive</span>
        {% endif %}
      </td>
      <td class="relative px-3 py-2 text-left">
        {% account_actions account %}
      </td>
    </tr>
  {% endfor %}
{% else %}
  <tr>
    <td colspan="5" class="px-3 py-6 text-center text-sm text-slate-500">No accounts available</td>
  </tr>
{% endif %}
    </tbody>
  </table>
</div>
