<tr id="task-{{ task.id }}" class="border-b last:border-b-0 border-slate-100 bg-white">
    <td class="px-4 py-3 text-sm font-medium text-slate-900">{{ task.title }}</td>
    <td class="px-4 py-3 text-sm text-slate-600">{{ task.description|default:"—" }}</td>
    <td class="px-4 py-3 text-sm">
        <span class="inline-flex items-center rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700">P{{ task.priority }}</span>
    </td>
    <td class="px-4 py-3 text-sm">
        {% if task.is_completed %}
            <span class="inline-flex items-center gap-1 rounded-full bg-emerald-100 px-3 py-1 text-xs font-semibold text-emerald-700">
                <span class="h-2 w-2 rounded-full bg-emerald-500"></span>
                Done
            </span>
        {% elif task.status == task.Status.IN_PROGRESS %}
            <span class="inline-flex items-center gap-1 rounded-full bg-amber-100 px-3 py-1 text-xs font-semibold text-amber-700">
                <span class="h-2 w-2 rounded-full bg-amber-500"></span>
                In progress
            </span>
        {% else %}
            <span class="inline-flex items-center gap-1 rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold text-slate-700">
                <span class="h-2 w-2 rounded-full bg-slate-500"></span>
                To do
            </span>
        {% endif %}
    </td>
    <td class="px-4 py-3 text-right text-sm">
        {% if not task.is_completed %}
            <button hx-post="{% url 'tasks:complete-task' pk=task.id %}"
                    hx-target="#task-{{ task.id }}"
                    hx-swap="outerHTML"
                    class="inline-flex items-center gap-2 rounded-lg bg-emerald-600 px-3 py-2 text-white shadow-sm transition hover:bg-emerald-500">
                Mark done
            </button>
        {% else %}
            <span class="text-slate-400">—</span>
        {% endif %}
    </td>
</tr>
